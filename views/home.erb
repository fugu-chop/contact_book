<h3>Contacts:</h3>

<div>
  <form method='post' action='/search'>
    <label for='search_name'>Search for contact name/category: </label>
    <br/>
    <input name='search_name' value='<%= session[:search_term] || params[:search_name] %>'>
    <button type='submit'>Search!</button>
  </form>
  <form method='get' action='/'>
    <button type='submit'>Clear Search Results</button>
  </form>
</div>

<div>
  <ul>
    <% @contacts.display_contacts.each_pair do |id, detail| %>
      <% detail[:details].each_pair do |key, val| %>
        <li><%= display_key(key) %>: <%= display_value(val) %></li>
      <% end %>
      <button type='submit'><a style="color:black; text-decoration: none;" href='/<%= id %>/edit'>Edit Contact</a></button>
      <form method='post' action='/<%= id %>/delete'>
        <button type='submit'>Delete Contact</button>
      </form>
      <br/>
    <% end %>
  </ul>
</div>

<p><a href='/new'>Create new contact</a></p>

<p><i> Signed in as <%= session[:username]%>!</i></p>

<form method='post' action='/users/logout'>
  <button type='submit'>Log Out</button>
</form>
